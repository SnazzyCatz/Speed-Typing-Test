
var hard = ["The modest salary of $1130 represents an increase of 4 1/8%., She ordered 375# of #3 potatoes (which retail for 10# @ $5.), The 10% increase in costs required M&Z to raise prices 18%., The students believe 4 - 4, 2 + 2, and 2 * 4 are easy to calculate., We bought 23# of nuts/bolts @ $3.75, an increase of over 39%., A salary bonus of 73% announced by Tyler & Benjamin was welcomed., We bought 49# of nuts/bolts @ $4.58, an increase of over 39%."
  , "Jo read Business News by PG&E. (See summary below. *), C&G fixed our roof at 13 Plum St. Total cost was $982.26., I know that 3 * 3 = 9., I know that 5 - 4 = 1., The invoice of 12/9 for includes a 2/10. n/30 discount., A salary bonus of 73% announced by Tyler & Benjamin was welcomed., A salary bonus of 46% announced by Joe & Moore was welcomed."
  , "I owed $2.29, Jo owed $1.48, and Lu owed $8.78 and paid $1.91., On 10/4/03 he got 27# of bricks @ $7.89, an increase of 96%., A salary bonus of 46% announced by Tyler & Moore was welcomed., The 10% increase in costs required M&Z to raise prices 18%., The invoice of 11/2 for (includes a n/30 discount.), On 4/15 the Hartly Company* stock decreased 19 1/8 points!, A salary bonus of 46% announced by Saul & Benjamin was welcomed."
  , "I need 8# of #9 nails, 10# of #8 bolts, and 49# of #8 clips., On 10/9/05 he got 25# of bricks @ $7.46, an increase of 21%., License #21479 from PG&E allows a 25% discount on 28# paper., On 4/2 the Hartly Company* stock decreased 16 1/8 points!, I know that 2 * 2 = 4., I know that 2 + 2 = 4., I know that 3 + 3 = 6."
  , "The 11% increase in costs required M&Z to raise prices 15%., The modest salary of $1130 represents an increase of 5 1/7%., Hill & Clark fixed our roof at 14 Plum St. Total cost was $1005.83., The 10% increase in costs required M&Z to raise prices 18%., I need 4# of #9 nails, 10# of #4 bolts, and 59# of #5 clips., The modest salary of $1130 represents an increase of 4 1/8%., I know that 2 * 2 = 4."
  , "The invoice of 4/24 for includes a 2/10. n/30 discount., The modest salary of $1130 represents an increase of 4 1/8%., Jo read Business News by M&Z. (See summary below. *), The invoice of 11/2 for (includes a n/30 discount.), A salary bonus of 46% announced by Joe & Moore was welcomed., On 10/4/03 he got 27# of bricks @ $7.89, an increase of 96%., I owed $2.29, Jo owed $3.43, and Lu owed $2.61 and paid $8.28."
  , "The invoice of 7/15 for (includes a n/30 discount.), A salary bonus of 73% announced by Tyler & Benjamin was welcomed., I know that 4 - 4 = 0., A salary bonus of 46% announced by Joe & Moore was welcomed., I owed $2.29, Jo owed $6.46, and Lu owed $6.54 and paid $2.40., On 10/4/03 he got 27# of bricks @ $7.89, an increase of 96%., This 100% increase means the difference between $.03 and $.80!"
  , "Catalog #273 lists 6 @ $2.07, 33 @ $7.97, 65 @ $2.10, and 89 @ $2.28., The invoice of 7/15 for (includes a n/30 discount.), On 12/3/03 he got 29# of bricks @ $0.32, an increase of 75%., The invoice of 7/15 for (includes a n/30 discount.), On 11/1 the Hartly Company* stock decreased 13 1/8 points!, The teachers believe 4 * 4, 2 + 2, and 2 + 4 are easy to calculate., We bought 78# of nuts/bolts @ $9.69, an increase of over 39%."
  , "We bought 76# of nuts/bolts @ $5.38, an increase of over 39%., The 14% increase in costs required M&Z to raise prices 16%., The modest salary of $838 represents an increase of 1 1/6%., I owed $2.29, Jo owed $1.48, and Lu owed $8.78 and paid $1.91., I know that 3 + 3 = 6., This 141% increase means the difference between $.04 and $.00!, Catalog #273 lists 10 @ $1.07, 38 @ $1.10, 68 @ $2.10, and 9 @ $1.81."
  , "The students believe 4 - 4, 2 * 2, and 2 * 4 are easy to calculate., On 4/2 the Hartly Company* stock decreased 16 1/8 points!, Jo read Business News by M&Z. (See summary below. *), On 11/1 the Hartly Company* stock decreased 13 1/8 points!, Catalog #273 lists 6 @ $2.07, 33 @ $7.97, 65 @ $2.10, and 89 @ $2.28., This 112% increase means the difference between $.06 and $.70!, I owed $2.29, Jo owed $1.48, and Lu owed $8.78 and paid $1.91."
]

var med = ["The ice sheet also plucked and rounded Burke Mountain into the shape it possesses today. The many boulders frozen to the underside of the ice sheet tended to scratch the rocks over which they rode. Less than one million years ago, in fact, some 12,000 years ago, an ice sheet many thousands of feet thick rode over Burke Mountain in a southeastward direction.Since Since they are still preserved in the rocks for us to see, they must have been formed quite recently, that is, geologically speaking. The scratches or striations seen in the park rocks were caused by these attached boulders. Did you ever hear about the Great Ice Age or the Pleistocene Epoch? What can explain these striations and their common orientation?"
  , "In the same way, if one treats themselves badly, being treated badly by someone else is not going to be any different. Or, one could end up putting up with what is taking place, and they will end up feeling even worse. It is then going to be important for them to take a closer look into what is taking place. Being treated in this way would cause them to feel uncomfortable, and they would soon walk away. Through being this way, they are naturally going to need to take a bit of time to settle down. Having them in their life is then going to be a way for them to avoid how they feel."
  , "She patiently waited for his number to be called. She had no desire to be there, but her mom had insisted that she go. She's resisted at first, but over time she realized it was simply easier to appease her and go. Mom tended to be that way. She would keep insisting until you wore down and did what she wanted. So, here she sat, patiently waiting for her number to be called. It was easy to spot her. All you needed to do was look at her socks. They were never a matching pair. One would be green while the other would be blue. One would reach her knee while the other barely touched her ankle. Every other part of her was perfect, but never the socks. They were her micro act of rebellion."
  , "Knew what he was supposed to do. That had been apparent from the beginning. That was what made the choice so difficult. What he was supposed to do and what he would do were not the same. This would have been fine if he were willing to face the inevitable consequences, but he wasn't. I haven't bailed on writing. Look, I'm generating a random paragraph at this very moment in an attempt to get my writing back on track. I am making an effort. I will start writing consistently again!"
  , "They argue. While the argument seems to be different the truth is it's always the same. Yes, the topic may be different or the circumstances, but when all said and done, it all came back to the same thing. They both knew it, but neither has the courage or strength to address the underlying issue. So they continue to argue. Her eyebrows were a shade darker than her hair. They were thick and almost horizontal, emphasizing the depth of her eyes. She was rather handsome than beautiful. Her face was captivating by reason of a certain frankness of expression and a contradictory subtle play of features. Her manner was engaging."
  , "The amber droplet hung from the branch, reaching fullness and ready to drop. It waited. While many of the other droplets were satisfied to form as big as they could and release, this droplet had other plans. It wanted to be part of history. It wanted to be remembered long after all the other droplets had dissolved into history. So it waited for the perfect specimen to fly by to trap and capture that it hoped would eventually be discovered hundreds of years in the future. It was that terrifying feeling you have as you tightly hold the covers over you with the knowledge that there is something hiding under your bed. You want to look, but you don't at the same time. You're frozen with fear and unable to act. That's where she found herself and she didn't know what to do next."
  , "It was that terrifying feeling you have as you tightly hold the covers over you with the knowledge that there is something hiding under your bed. You want to look, but you don't at the same time. You're frozen with fear and unable to act. That's where she found herself and she didn't know what to do next. It went through such rapid contortions that the little bear was forced to change his hold on it so many times he became confused in the darkness, and could not, for the life of him, tell whether he held the sheep right side up, or upside down."
  , "I've rented a car in Las Vegas and have reserved a hotel in Twentynine Palms which is just north of Joshua Tree. We'll drive from Las Vegas through Mojave National Preserve and possibly do a short hike on our way down. Then spend all day on Monday at Joshua Tree. We can decide the next morning if we want to do more in Joshua Tree or Mojave before we head back. All he could think about was how it would all end. There was still a bit of uncertainty in the equation, but the basics were there for anyone to see."
  , "There was something beautiful in his hate. It wasn't the hate itself as it was a disgusting display of racism and intolerance. It was what propelled the hate and the fact that although he had this hate, he didn't understand where it came from. It was at that moment that she realized that there was hope in changing him. It's not his fault. I know you're going to want to, but you can't blame him. He really has no idea how it happened."
  , "The document I'm meant to be writing is, of course, open in another program on my computer and is patiently awaiting my attention.I'm I'm meant to be writing at this moment. What I mean is, I'm meant to be writing something else at this moment. Yet here I am plonking down senseless sentiments in this paragraph because it's easier to do than to work on anything particularly meaningful. I am grateful for the distraction."
]

var easy = ["Atticus said to Jem one day I would rather you shot at tin cans in the backyard but I know you will go after birds and Shoot all the blue jays you want if you can hit them but remember it is a sin to kill a mockingbird and That was the only time I ever heard Atticus say it was a sin to do something and I asked Miss Maudie about it who said Your fathers right she said Mockingbirds do not do one thing except make music for us to enjoy and They do not eat up peoples gardens do not nest in corn cribs they do not do one thing but sing their hearts out for us and That is why it is a sin to kill a mockingbird"
  , "We believe that we can change the things around us in accordance with our desires we believe it because otherwise we can see no favourable outcome and We do not think of the outcome which generally comes to pass and is also favourable we do not succeed in changing things in accordance with our desires but gradually our desires change and The situation that we hoped to change because it was intolerable becomes unimportant to us and We have failed to surmount the obstacle as we were absolutely determined to do but life has taken us round it led us beyond it and then if we turn round to gaze into the distance of the past we can barely see it so imperceptible has it become"
  , "Sometimes fate is like a small sandstorm that keeps changing directions You change direction but the sandstorm chases you You turn again but the storm adjusts Over and over you play this out like some ominous dance with death just before dawn Why Because this storm is not something that blew in from far away something that has nothing to do with you and This storm is you and Something inside of you So all you can do is give in to it step right inside the storm closing your eyes and plugging up your ears so the sand does not get in and walk through it step by step and There is no sun there no moon no direction no sense of time and Just fine white sand swirling up into the sky like pulverized bones and Thatâ€™s the kind of sandstorm you need to imagine"
  , "And you really will have to make it through that violent metaphysical symbolic storm and No matter how metaphysical or symbolic it might be make no mistake about it it will cut through flesh like a thousand razor blades and People will bleed there and you will bleed too Hot red blood You will catch that blood in your hands your own blood and the blood of others And once the storm is over you will not remember how you made it through how you managed to survive You will not even be sure in fact whether the storm is really over But one thing is certain When you come out of the storm you will not be the same person who walked in and That is what this storms all about"
  , "The most important things are the hardest to say They are the things you get ashamed of because words diminish them words shrink things that seemed limitless when they were in your head to no more than living size when they are brought out But it is more than that is it not The most important things lie too close to wherever your secret heart is buried like landmarks to a treasure your enemies would love to steal away And you may make revelations that cost you dearly only to have people look at you in a funny way not understanding what you have said at all or why you thought it was so important that you almost cried while you were saying it That is the worst I think When the secret stays locked within not for want of a teller but for want of an understanding ear"
  , "Michael Burry an eccentric ex physician turned one eyed Scion Capital hedge fund manager has traded traditional office attire for shorts bare feet and a Supercuts haircut He believes that the US housing market is built on a bubble that will burst within the next few years Autonomy within the company allows Burry to do largely as he pleases so Burry proceeds to bet against the housing market with the banks who are more than happy to accept his proposal for something that has never happened in American history The banks believe that Burry is a crackpot and therefore are confident in that they will win the deal Jared Vennett with Deutschebank gets wind of what Burry is doing and as an investor believes he too can cash in on Burrys beliefs"
  , "Her parents being zoologists Cady Heron has never known what high school truly meant She lived her first 15 years in the African jungle home-schooled living life with only her parents and the animals of the wilderness knowing all of the rules of survival But when she leaves Africa she has to learn the rules of high school which is a jungle in itself It did not take long before she met two sweet sweet teenagers Damian and Janis But in turns of high school they are known as the  out krowd Soon she meets the Plastics the three crude beautiful popular girls consisting of Regina the unofficial leader Gretchen who would do anything for Regina and Karen one of the dumbest people you will ever meet After just a few minutes they let her into their group but Cady wanted to keep her first friends so she wasnt really sure"
  , "On the road the group tries to commandeer a luxury RV since Columbus has a strict no clown policy that prevents them from getting in an ice-cream truck As they enter the RV the alarm goes off causing zombies to attack Methodically fighting back as a team they encounter one of the super-zombies that takes multiple gunshots to kill leading Columbus to nickname it the T800 after the Terminator franchise Madison shows signs of zombification forcing Columbus to lead her into the forest to shoot her The group arrives at Graceland but finds it in ruins which greatly upsets Tallahassee who is a great admirer of the King However they discover the Beast Tallahassees modified presidential limousine which was stolen by Little Rock at a nearby Elvis themed motel run by Nevada"
  , "Geralt of Rivia a brooding professional monster hunter for hire also known as witcher struggles to keep his humanity in a medieval dark fantasy world ruled by corrupt kings queens and mages where poverty violence and intolerance are rampant normal humans are sometimes worse than actual monsters and most jobs that pay well involve the darkest of human emotions and desires Yennefer of Vengerberg is an ambitious mage who came from nothing and wants everything Princess Cirilla or Ciri is a young girl who may or may not possess some great mysterious power within her Their destinies seemingly quite different slowly intertwine in a rather cosmic fashion Their companions include Jaskier the bard Geralts endearingly annoying friend and hype man vowed to spread the word of his heroics throughout the continent"
  , "After a meteoric five year rise to the top in the cut throat world of dazzling Hollywood and a long decade of treading water the once young and popular action star Rick Dalton finds it difficult to swallow that the rapacious and always hungry for new blood film industry can do without him Sensing that his career may be nearing its end Rick along with his sympathetic confidant and former stunt double Cliff Booth face the grim possibility of a mundane new life in an ever changing 1969 Los Angeles Now unlike his glamorous next door neighbours the young director fresh off the triumphant success of Rosemary's Baby Roman Polanski and the rising star of The Wrecking Crew Sharon Tate Rick has to make a difficult decision"
]

const quoteDisplayElement = document.getElementById('quoteDisplay')
const quoteInputElement = document.getElementById('quoteInput')
const timerElement = document.getElementById('timer')

if (sessionStorage.getItem("scores") === null) {
  var scores = []
  sessionStorage.setItem("scores", JSON.stringify(scores));
}

var start = false
var error = false
var count = 0
var interval

var x = 0

quoteInputElement.addEventListener('input', () => {
  start = true
  const arrayQuote = quoteDisplayElement.querySelectorAll('span')
  const arrayValue = quoteInputElement.value.split(" ")
  let correct = true

  arrayQuote.forEach((characterSpan, index) => {
    const character = arrayValue[index] + " "
    if (character == (undefined + " ")) {
      characterSpan.classList.remove('correct')
      characterSpan.classList.remove('incorrect')

      correct = false
    } else if (character === characterSpan.innerText) {
      characterSpan.classList.add('correct')
      characterSpan.classList.remove('incorrect')
    } else {
      characterSpan.classList.remove('correct')
      characterSpan.classList.add('incorrect')
      correct = false
    }

  })
  count = document.querySelectorAll('.correct');
  //console.log(count)

  if (correct) renderNewQuote()
})

function getRandomNumber(max) {
  return Math.floor(Math.random() * Math.floor(max))
}

function getRandomQuote(difficulty) {
  var randomNumber = getRandomNumber(10)
  console.log(randomNumber)
  if (difficulty == "easy") {
    return easy[randomNumber].toLowerCase()
  }
  else if (difficulty == "medium") {
    return med[randomNumber]
  }
  else {
    return hard[randomNumber]
  }
}

async function renderNewQuote(difficulty) {
  if (interval) {
    clearInterval(interval)
  }
  timerElement.innerText = 60

  const quote = getRandomQuote(difficulty)
  console.log(quote)
  quoteDisplayElement.innerHTML = ''
  quote.split(' ').forEach(character => {
    const characterSpan = document.createElement('span')
    character = character + " "
    characterSpan.innerText = character
    quoteDisplayElement.appendChild(characterSpan)
  })
  quoteInputElement.value = null
  startTimer()
}

let startTime
function startTimer() {
  //timerElement.innerText = 10

  interval = setInterval(() => {
    if (start == true) {
      timer.innerText -= 1
    }

    if (timer.innerText == 0) {
      document.getElementById("quoteInput").disabled = true
      clearInterval(interval)
      addData()
      displayScore()
    }
  }, 1000)
  start = false
  document.getElementById("quoteInput").disabled = false
}

function addData() {
  counter = 0

  for (let x = 0; x < count.length; x++) {
    for (let y = 0; y < count[x].innerHTML.length; y++) {

      let word = count[x].innerHTML + ""

      if (word.charAt(y) == word.charAt(y).toUpperCase() && word.charAt(y) != " ") {
        console.log("upper")
        counter += 2
      } else if (word.charAt(y) == word.charAt(y).toLowerCase() || word.charAt(y) == " ") {
        console.log("lower")
        counter += 1
      } else {
        console.log("other")
        counter += 1
      }
    }
  }
  console.log(counter)
  counter = Math.floor(counter / 5)
  console.log(counter)
  let storage = JSON.parse(sessionStorage.getItem("scores"));
  storage.unshift(counter)
  sessionStorage.setItem("scores", JSON.stringify(storage));
  displayScore()
}

function displayScore() {
  let storage = JSON.parse(sessionStorage.getItem("scores"));
  let element = document.getElementById("listScore")
  console.log("hi")
  element.innerText = ""

  for (let x = 0; x < storage.length; x++) {
    let li = document.createElement("li")
    li.innerHTML = storage[x] + " wpm"
    element.appendChild(li)
  }
}

//renderNewQuote()
displayScore()